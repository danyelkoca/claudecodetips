@import 'tailwindcss';
@plugin "@tailwindcss/typography";

/* ============================================
   MONOCHROME DESIGN SYSTEM
   Based on shadcn/ui neutral + Apple iOS

   DARK MODE (DEFAULT) - no class
   LIGHT MODE - .light class on <html>
   ============================================ */

:root {
  --background: #0a0a0a;
  --foreground: #fafafa;
  --card: #0a0a0a;
  --muted-foreground: #a1a1a1;
  --border: #262626;
  --primary: #fafafa;
  --primary-foreground: #0a0a0a;
  --success: #22c55e;
  --success-foreground: #052e16;
  --error: #ef4444;
}

.light {
  --background: #ffffff;
  --foreground: #0a0a0a;
  --card: #ffffff;
  --muted-foreground: #737373;
  --border: #e5e5e5;
  --primary: #171717;
  --primary-foreground: #fafafa;
  --success: #166534;
  --success-foreground: #f0fdf4;
  --error: #dc2626;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-muted-foreground: var(--muted-foreground);
  --color-border: var(--border);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-success: var(--success);
  --color-success-foreground: var(--success-foreground);
  --color-error: var(--error);
}

body {
  background-color: var(--background);
  color: var(--foreground);
  font-family: 'Inter', 'Noto Sans JP', system-ui, -apple-system, sans-serif;
}

/* Internationalized text wrapping for headings */
h1, h2, h3, h4, h5, h6 {
  text-wrap: balance;
  overflow-wrap: break-word;

  /* Japanese - use auto-phrase where supported */
  &:lang(ja) {
    text-wrap: initial;
    line-break: strict;
    @supports (word-break: auto-phrase) {
      word-break: auto-phrase;
      text-wrap: balance;
    }
  }

  /* Korean - keep-all with mobile fallback */
  &:lang(ko) {
    word-break: keep-all;
    @media (max-width: 480px) {
      text-wrap: wrap;
      word-break: initial;
    }
  }

  /* Chinese (Simplified & Traditional) */
  &:lang(zh), &:lang(zh-CN), &:lang(zh-TW) {
    word-break: keep-all;
    line-break: strict;
  }
}

/* Prose (markdown content) */
.prose a {
  color: var(--foreground);
  font-weight: 600;
  text-decoration: underline;
  text-underline-offset: 2px;
}

.prose a:hover {
  text-decoration-thickness: 2px;
}

.prose code {
  background-color: var(--border);
  color: var(--foreground);
  padding: 0.125rem 0.25rem;
  border-radius: 0.25rem;
  font-size: 0.875em;
}

.prose pre {
  background-color: var(--border);
  color: var(--foreground);
  padding: 1rem;
  border-radius: 0.5rem;
  overflow-x: auto;
}

.prose pre code {
  background-color: transparent;
  padding: 0;
  color: inherit;
}

.prose {
  --tw-prose-body: var(--foreground);
  --tw-prose-headings: var(--foreground);
  --tw-prose-bold: var(--foreground);
}
