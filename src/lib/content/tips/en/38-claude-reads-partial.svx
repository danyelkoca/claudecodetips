
Claude reads the first chunk of a file and starts working. Critical function at line 400? Missed. Important context at the bottom? Never saw it.

This happens for two reasons: file truncation and attention bias. Both are baked into how Claude Code works.

## File Truncation

Claude Code's Read tool defaults to 2,000 lines (expanded from the original 100-line previews). Files exceeding this get truncated silently. The tool has `offset` and `limit` parameters for reading specific portions, but Claude doesn't always use them proactively.

There's also a 25,000 token hard limit. A 2,000-line file with long lines can hit this cap and get truncated further.

## The "Lost in the Middle" Problem

Even when Claude loads your entire file, it pays uneven attention to different sections.

[Research from Stanford and UC Berkeley](https://arxiv.org/abs/2307.03172) documented a U-shaped attention curve in language models:

- **Beginning of context:** High attention (primacy bias)
- **Middle of context:** Lowest attention
- **End of context:** High attention (recency bias)

In their testing, GPT-3.5-Turbo's accuracy dropped below its no-context performance when relevant information was buried in the middle of a long document. The model did worse with the answer in front of it than when guessing blind.

Why? [Rotary positional encodings (RoPE)](https://blog.eleuther.ai/rotary-embeddings/) used in modern transformers have inherent long-term decay. Tokens further apart receive weaker attention. This is a feature for efficiency, but it means middle sections get neglected.

## Context Compaction Makes It Worse

After 2-3 context compactions in extended sessions, [Claude Code reverts to inefficient reading patterns](https://github.com/anthropics/claude-code/issues/7533):

- Using `grep` and `wc` to sample files instead of reading fully
- Applying `offset` and `limit` parameters unnecessarily
- Making multiple partial reads instead of one complete read

The system prompt instruction to "read the whole file" gets compressed away during compaction, while the deeper efficiency bias persists. One user documented a simple 4-file validation task ballooning to 30+ tool uses after compaction. Claude sampled files piecemeal instead of reading them completely.

## Real-World Consequences

When Claude works with incomplete context:

**Missed dependencies:** A utility function at line 400 gets reimplemented because Claude only saw lines 1-200.

**Broken imports:** Claude adds imports for functions that already exist elsewhere in the file.

**Inconsistent patterns:** The file's coding conventions appear after line 300. Claude's additions use different patterns because it never saw the examples.

**Hallucinated details:** With partial context, Claude fills gaps with assumptions. These compound as it builds on incomplete understanding.

**Silent failures:** Claude doesn't announce "I only read part of this file." It proceeds confidently.

## How to Force Complete Reading

### 1. Be Explicit

```
Read the ENTIRE file end-to-end before making any changes.
Do not use offset or limit parameters.
```

### 2. Chunk Large Files Yourself

For files over 2,000 lines:

```
Read lines 1-800 of src/utils/helpers.ts
```

Then:

```
Now read lines 800-1600 of the same file
```

Build the complete picture manually.

### 3. Call Out Critical Sections

```
Pay special attention to the validatePayment() function around lines 350-420.
```

Don't assume Claude will find important functions on its own.

### 4. Add to CLAUDE.md

```markdown
## File Reading Rules
- Always read files completely before suggesting changes
- Never use grep/wc for sampling - use the Read tool directly
- For files >500 lines, confirm you've seen the entire file
```

### 5. Verify What Was Read

After Claude claims to understand a file:

```
What function is defined at line 400?
What's the last function in this file?
```

Test whether Claude actually saw the full content.

### 6. Put Instructions at the End

[Anthropic's documentation](https://platform.claude.com/docs/en/build-with-claude/prompt-engineering/long-context-tips) recommends placing your query after long documents, not before. Their testing showed queries at the end can improve response quality by up to 30%.

Recency bias means Claude pays more attention to what comes last. Put your instructions there.

### 7. Ask Claude to Quote First

When searching for information in a large file:

```
Find the most relevant line in this file that relates to payment validation.
Quote it exactly, then answer my question.
```

[Anthropic calls this "grounding responses in quotes."](https://platform.claude.com/docs/en/build-with-claude/prompt-engineering/long-context-tips) It forces Claude to actively search rather than passively summarize.

## The Math on Context Dilution

Even perfect retrieval doesn't prevent degradation. [Research from October 2025](https://arxiv.org/abs/2510.05381) tested five LLMs including Claude 3.5 and found:

- 13.9% to 85% accuracy drops as context grows, even within claimed context limits
- Performance degraded even when models could recite all evidence with 100% exact match
- Replacing distractors with whitespace still caused up to 48% accuracy drops

Context length itself imposes a cognitive tax, independent of content quality.

## Red Flags

Your Claude session may be reading partially if:

- It suggests creating utilities that already exist in the file
- Import statements duplicate what's already imported
- Code style suddenly differs from the file's established patterns
- Claude asks "where is X defined?" when X is clearly in the file
- Edits break code that appears later in the same file

When you spot these, stop: "Did you read the complete file? Quote the last function in it."

## The Bottom Line

Don't assume Claude saw everything just because it opened the file. The first few hundred lines get premium attention. The middle gets neglected. Long files get truncated.

Build verification into your workflow:

1. Ask Claude to confirm it read the full file
2. Test with questions about content near the end
3. Add full-read requirements to your CLAUDE.md
4. After compaction, explicitly re-request complete file reads

A few seconds of verification saves hours of debugging edits based on incomplete context.
