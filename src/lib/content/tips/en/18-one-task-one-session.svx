
Once task ends, close it down. Use `/clear` to wipe context and start fresh. Your CLAUDE.md persists, everything else gets wiped.

## Why This Matters

LLMs are stateless. They reprocess the entire conversation history with every message. As your session grows, several problems emerge:

1. **Token consumption accelerates** - A fresh session with MCP tools can eat 30-60k tokens before you type anything. System prompts, tool definitions, and memory files all count. The remaining context fills faster than you expect.

2. **Attention degrades** - [Stanford's "Lost in the Middle" research](https://arxiv.org/abs/2307.03172) found that LLMs exhibit U-shaped attention patterns. Information in the middle of long contexts gets ignored, even in explicitly long-context models. [MIT researchers in 2025](https://arxiv.org/abs/2502.01951) showed this stems from causal masking in transformer architecture. The effect amplifies with more attention layers.

3. **Errors accumulate** - Old instructions, failed attempts, and correction history pile up. Important grounding information gets pushed out while noise remains.

4. **Performance tanks** - Claude gets slower. Responses become generic. Previous decisions get forgotten. Code quality degrades noticeably.

## The `/clear` Command

```bash
/clear
```

This wipes the conversation history clean. What persists:
- Your CLAUDE.md instructions (project and user level)
- CLAUDE.local.md (personal project preferences)
- .claude/rules/*.md (modular rule files)
- Git state and file system

What gets wiped:
- All conversation history
- File contents Claude read
- Commands and their outputs
- Error messages and corrections
- The internal todo list

## When to Use `/clear`

**After every completed task.** Don't let unrelated work pile up in the same session.

Specific triggers:
- Finished implementing a feature
- Fixed a bug
- Completed a refactoring
- Moving to unrelated work
- Claude starts going in circles
- Same mistakes keep appearing
- Responses feel generic or unfocused

## `/clear` vs `/compact` vs New Session

| Action | Effect | Use When |
|--------|--------|----------|
| `/clear` | Wipes history, keeps CLAUDE.md | Task done, starting fresh work |
| `/compact` | Summarizes history, loses detail | Need partial memory, mid-complex-task |
| New session | Clean slate, full reinitialization | Everything feels off, nuclear option |

**Prefer `/clear` over `/compact`.** After compaction, Claude loses detail. It doesn't know what files it was looking at and needs to re-read them. It will repeat mistakes you corrected earlier.

## The Document-Then-Clear Workflow

For complex multi-session tasks, don't rely on `/compact`. Instead:

1. **Before clearing:** Have Claude dump its plan and progress into a markdown file
2. **Run `/clear`**
3. **Start fresh:** Tell Claude to read the markdown file and continue

This creates durable external memory that survives context resets.

```bash
# Before clearing
"Write your current progress and next steps to progress.md"

# After clearing
"Read progress.md and continue from where we left off"
```

## External Memory Files

The Claude Code todo list doesn't persist across sessions. Use external files instead:

- **plan.md** - Current implementation plan with checkboxes
- **progress.md** - What's been done, what's next
- **decisions.md** - Key architectural decisions made

Track tasks with `[ ]` checkboxes. Claude can read and update these across sessions.

## Monitoring Your Context

Run `/context` mid-session to see where tokens are going:
- System prompt and tools
- Memory files (CLAUDE.md)
- Conversation messages
- File contents read
- MCP tool definitions (often the biggest surprise)

Auto-compaction triggers around 95% capacity. Don't wait for this. Clear proactively at logical breakpoints. Once auto-compaction kicks in, you've already lost detail you might need.

## Signs Your Session Needs Clearing

Watch for these warning signs:

- Responses take noticeably longer
- Claude asks about things it should know
- Same errors keep appearing after fixes
- Generic advice instead of project-specific guidance
- Claude suggests approaches you already rejected
- Performance feels "off"
- Sessions lasting 8-12+ exchanges in complex projects

## The Ideal Workflow

1. **Start fresh** for each discrete task
2. **Use CLAUDE.md** for persistent instructions (not per-session reminders)
3. **Keep scope small** - Plan what you'll do in ~30 minutes or less
4. **Commit often** - Each session produces a clean, reviewable commit
5. **Clear aggressively** - When in doubt, clear
6. **Document for handoff** - Before clearing complex work, externalize state

## What Survives Sessions

**Memory files are your persistent memory.** Claude Code supports a hierarchy:

- **~/.claude/CLAUDE.md** - User-level preferences (applies to all projects)
- **./CLAUDE.md** - Project-level instructions (shared with team via git)
- **./CLAUDE.local.md** - Personal project preferences (auto-added to .gitignore)
- **./.claude/rules/*.md** - Modular rule files with optional path-scoping

Use these for project-specific rules, common commands, architecture overview, and style guidelines. Memory files also support `@path/to/file` imports to reference other files.

Don't put session-specific context in memory files. They're read at every session start.

## The `/catchup` Pattern

Some developers create a custom `/catchup` command that reads all uncommitted git changes into context. The workflow:

1. `/clear` when context gets full
2. `/catchup` to reload work-in-progress
3. Continue working with fresh context

This works well for straightforward tasks. For complex multi-step work, the document-then-clear approach is safer because it preserves your reasoning, not just the code state.

## Summary

- **One task = one session.** Clear between tasks.
- **Don't trust auto-compact.** It's a fallback, not a strategy.
- **Externalize state** for multi-session work.
- **Monitor context usage** with `/context`.
- **Clear at logical breakpoints** before performance degrades.
- **Memory files persist.** CLAUDE.md, CLAUDE.local.md, and .claude/rules/*.md survive clears. Everything else doesn't.

The context window is a finite resource. Clear it often. Your memory files carry forward what matters.
